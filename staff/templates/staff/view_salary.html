{% extends 'dashboard_base.html' %}

{% block title %}Salary Slips â€” SMS{% endblock %}

{% block header_title %}Salary Slips{% endblock %}
{% block user_role %}Staff{% endblock %}

{% block sidebar_nav %}
<a href="{% url 'staff:dashboard' %}" class="nav-item">
    <i class="fas fa-th-large"></i> Dashboard
</a>
<a href="{% url 'staff:timetable' %}" class="nav-item">
    <i class="fas fa-clock"></i> My Timetable
</a>
<a href="{% url 'staff:select_attendance_class' %}" class="nav-item">
    <i class="fas fa-clipboard-check"></i> Take Attendance
</a>
<a href="{% url 'staff:assign_homework' %}" class="nav-item">
    <i class="fas fa-book-open"></i> Assign Homework
</a>
<a href="{% url 'staff:select_exam' %}" class="nav-item">
    <i class="fas fa-pen-fancy"></i> Enter Marks
</a>
<div class="nav-label">Personal</div>
<a href="{% url 'staff:apply_leave' %}" class="nav-item">
    <i class="fas fa-calendar-minus"></i> Apply Leave
</a>
<a href="{% url 'staff:view_salary' %}" class="nav-item active">
    <i class="fas fa-wallet"></i> Salary Slips
</a>
{% endblock %}

{% block dashboard_content %}
<div class="content-card animate-in">
    <div class="content-card-header">
        <h3><i class="fas fa-wallet" style="color: var(--accent-green); margin-right: 8px;"></i>Salary Slips</h3>
    </div>
    <div class="content-card-body" style="padding: 0;">
        <div style="overflow-x: auto;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Month</th>
                        <th>Basic Salary</th>
                        <th>Allowances</th>
                        <th>Deductions</th>
                        <th>Net Salary</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for slip in payslips %}
                    <tr>
                        <td style="font-weight: 600;">{{ slip.month|date:"F Y" }}</td>
                        <td>${{ slip.basic_salary }}</td>
                        <td style="color: #059669;">+ ${{ slip.allowances }}</td>
                        <td style="color: #DC2626;">- ${{ slip.deductions }}</td>
                        <td style="font-weight: 700;">${{ slip.net_salary }}</td>
                        <td>
                            <a href="#"
                                style="color: var(--primary); font-weight: 600; font-size: 13px; text-decoration: none;">
                                <i class="fas fa-download" style="margin-right: 4px;"></i>Download
                            </a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 32px; color: var(--text-secondary);">
                            <div class="empty-state">
                                <div class="empty-icon"><i class="fas fa-receipt"></i></div>
                                <p>No salary slips generated.</p>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}